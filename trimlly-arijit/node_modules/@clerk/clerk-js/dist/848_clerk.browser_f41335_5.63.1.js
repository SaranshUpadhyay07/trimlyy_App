"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["848"],{8505:function(e,r,t){t.d(r,{C:()=>$});var i=t(8635),a=t(3799),o=t(9144),n=t(8756),l=t(7432),c=t(1673),s=t(3064),d=t(6258),p=t(1201);let m=()=>{let e=(0,a.cL)(),{mode:r="mounted"}=(0,n.usePricingTableContext)(),t=(0,n.useSubscriberTypeContext)(),{isLoading:o,defaultFreePlan:l,isDefaultPlanImplicitlyActive:m}=(0,n.usePlansContext)(),u=()=>{l&&e.__internal_openPlanDetails({plan:l,subscriberType:t,portalId:"modal"===r?"user"===t?c.g8:c.aw:void 0})};return!o&&l&&m&&0!==l.features.length?(0,i.tZ)(p.InternalThemeProvider,{children:(0,i.BX)(s.Table,{tableHeadVisuallyHidden:!0,sx:e=>({marginBlockEnd:e.sizes.$4,"tr > td":{paddingInline:e.sizes.$4,paddingBlock:e.sizes.$2},"tr > th":{paddingInline:e.sizes.$4,paddingBlock:e.sizes.$2}}),children:[(0,i.tZ)(s.Thead,{children:(0,i.BX)(s.Tr,{children:[(0,i.tZ)(s.Th,{children:"Plan"}),(0,i.tZ)(s.Th,{children:"Start date"}),(0,i.tZ)(s.Th,{children:"Edit"})]})}),(0,i.tZ)(s.Tbody,{children:(0,i.BX)(s.Tr,{children:[(0,i.tZ)(s.Td,{children:(0,i.BX)(s.Col,{gap:1,children:[(0,i.BX)(s.Flex,{align:"center",gap:1,children:[(0,i.tZ)(s.Icon,{icon:d.ou,sx:e=>({width:e.sizes.$4,height:e.sizes.$4,opacity:e.opacity.$inactive})}),(0,i.tZ)(s.Text,{variant:"subtitle",sx:e=>({marginRight:e.sizes.$1}),children:l.name})]}),(0,i.tZ)(s.Text,{variant:"caption",colorScheme:"secondary",localizationKey:(0,s.localizationKeys)("__experimental_commerce.defaultFreePlanActive")})]})}),(0,i.tZ)(s.Td,{sx:e=>({textAlign:"right"}),children:(0,i.tZ)(s.Button,{onClick:()=>u(),variant:"bordered",colorScheme:"secondary",localizationKey:(0,s.localizationKeys)("__experimental_commerce.viewFeatures")})})]})})]})}):null};var u=t(6106),g=t(4229),h=t(8803);function x({plans:e,planPeriod:r,setPlanPeriod:t,onSelect:a,isCompact:o,props:n}){return(0,i.tZ)(p.InternalThemeProvider,{children:(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTable,sx:e=>({"--grid-min-size":o?"11.75rem":"20rem","--grid-max-columns":"infinity","--grid-gap":e.space.$4,"--max-column-width":"100% / var(--grid-max-columns, infinity) - var(--grid-gap)","--column-width":"max(var(--max-column-width), min(var(--grid-min-size, 10rem), 100%))",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(var(--column-width), 1fr))",gap:`var(--grid-gap-y, var(--grid-gap, ${e.space.$4})) var(--grid-gap, ${e.space.$4})`,alignItems:"stretch",width:"100%",minWidth:"0"}),"data-variant":o?"compact":"default",children:e?.map(e=>i.tZ(b,{plan:e,planPeriod:r,setPlanPeriod:t,onSelect:a,props:n,isCompact:o},e.id))})})}function b(e){let{plan:r,planPeriod:t,setPlanPeriod:o,onSelect:l,props:d,isCompact:m=!1}=e,g=(0,a.cL)(),{mode:x="mounted"}=(0,n.usePricingTableContext)(),b=(0,n.useSubscriberTypeContext)(),B=d.ctaPosition||"bottom",$=d.collapseFeatures||!1,{id:C,slug:f,features:S}=r,v=S.length>0,{buttonPropsForPlan:Z}=(0,n.usePlansContext)();return(0,i.BX)(s.Box,{elementDescriptor:s.descriptors.pricingTableCard,elementId:s.descriptors.pricingTableCard.setId(f),sx:e=>({display:"flex",flexDirection:"column",background:p.common.mergedColorsBackground(h.O9.setAlpha(e.colors.$colorBackground,1),e.colors.$neutralAlpha50),borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$neutralAlpha100,boxShadow:m?e.shadows.$tableBodyShadow:e.shadows.$cardBoxShadow,borderRadius:e.radii.$xl,overflow:"hidden",textAlign:"left"}),"data-variant":m?"compact":"default",children:[(0,i.tZ)(y,{plan:r,isCompact:m,planPeriod:t,setPlanPeriod:o}),(0,i.BX)(u.ReversibleContainer,{reverse:"top"===B,children:[$?null:(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardFeatures,sx:e=>({display:"flex",flexDirection:"column",flex:"1",padding:v?m?e.space.$3:e.space.$4:0,backgroundColor:v?e.colors.$colorBackground:void 0,borderTopWidth:v?e.borderWidths.$normal:0,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100}),"data-variant":m?"compact":"default",children:(0,i.tZ)(T,{plan:r,isCompact:m,showPlanDetails:()=>{g.__internal_openPlanDetails({plan:r,subscriberType:b,planPeriod:t,portalId:"modal"===x?"user"===b?c.g8:c.aw:void 0})}})}),(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardAction,sx:e=>({marginTop:"auto",padding:m?e.space.$3:e.space.$4,borderTopWidth:v?e.borderWidths.$normal:0,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100,background:void 0}),children:(0,i.tZ)(s.Button,{block:!0,textVariant:m?"buttonSmall":"buttonLarge",...Z({plan:r,isCompact:m}),onClick:()=>{l(r)}})})]})]},C)}let y=o.forwardRef((e,r)=>{let t=(0,g.Tb)(),{animations:a}=(0,s.useAppearance)().parsedLayout,{plan:l,isCompact:c,planPeriod:p,setPlanPeriod:m}=e,{name:h,avatarUrl:x,annualMonthlyAmount:b}=l,y=!t&&!0===a,T=o.useMemo(()=>b<=0?l.amountFormatted:"annual"===p?l.annualMonthlyAmountFormatted:l.amountFormatted,[b,p,l.amountFormatted,l.annualMonthlyAmountFormatted]),{activeOrUpcomingSubscription:B,isDefaultPlanImplicitlyActive:$}=(0,n.usePlansContext)(),C=B(l),f=$&&l.isDefault,S=!!C||f;return(0,i.BX)(s.Box,{ref:r,elementDescriptor:s.descriptors.pricingTableCardHeader,sx:e=>({width:"100%",padding:c?e.space.$3:e.space.$4}),"data-variant":c?"compact":"default",children:[x||S?(0,i.BX)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardAvatarBadgeContainer,sx:e=>({marginBlockEnd:e.space.$3,display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",gap:e.space.$3,float:x||S?void 0:"right"}),children:[x?(0,i.tZ)(u.Avatar,{boxElementDescriptor:s.descriptors.pricingTableCardAvatar,size:e=>40,title:h,initials:h[0],rounded:!1,imageUrl:x}):null,(0,i.tZ)(u.ReversibleContainer,{reverse:!x,children:S?(0,i.tZ)(s.Span,{elementDescriptor:s.descriptors.pricingTableCardBadgeContainer,sx:{flexBasis:x?"100%":void 0},children:f||C?.status==="active"?(0,i.tZ)(s.Badge,{elementDescriptor:s.descriptors.pricingTableCardBadge,localizationKey:(0,s.localizationKeys)("badge__currentPlan"),colorScheme:"secondary"}):(0,i.tZ)(s.Badge,{elementDescriptor:s.descriptors.pricingTableCardBadge,localizationKey:(0,s.localizationKeys)("badge__startsAt",{date:C?.periodStart}),colorScheme:"primary"})}):null})]}):null,(0,i.tZ)(s.Heading,{elementDescriptor:s.descriptors.pricingTableCardTitle,as:"h2",textVariant:c?"h3":"h2",children:l.name}),!c&&l.description?(0,i.tZ)(s.Text,{elementDescriptor:s.descriptors.pricingTableCardDescription,variant:"subtitle",colorScheme:"secondary",children:l.description}):null,(0,i.tZ)(s.Flex,{elementDescriptor:s.descriptors.pricingTableCardFeeContainer,"data-variant":c?"compact":"default",align:"center",wrap:"wrap",sx:e=>({marginTop:c?e.space.$2:e.space.$3,columnGap:e.space.$1x5}),children:l.amount>0?(0,i.BX)(i.HY,{children:[(0,i.BX)(s.Text,{elementDescriptor:s.descriptors.pricingTableCardFee,variant:c?"h2":"h1",colorScheme:"body",children:[l.currencySymbol,T]}),(0,i.tZ)(s.Text,{elementDescriptor:s.descriptors.pricingTableCardFeePeriod,variant:"caption",colorScheme:"secondary",sx:e=>({textTransform:"lowercase",":before":{content:'"/"',marginInlineEnd:e.space.$1}}),localizationKey:(0,s.localizationKeys)("__experimental_commerce.month")}),b>0?(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardFeePeriodNotice,sx:[e=>({width:"100%",display:"grid",gridTemplateRows:"annual"===p?"1fr":"0fr"}),e=>({transition:y?`grid-template-rows ${e.transitionDuration.$slower} ${e.transitionTiming.$slowBezier}`:"none"})],inert:"annual"!==p?"true":void 0,children:(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardFeePeriodNoticeInner,sx:{overflow:"hidden",minHeight:0},children:(0,i.BX)(s.Text,{elementDescriptor:s.descriptors.pricingTableCardFeePeriodNoticeLabel,variant:"caption",colorScheme:"secondary",sx:e=>({width:"100%",display:"flex",alignItems:"center",columnGap:e.space.$1}),children:[(0,i.tZ)(s.Icon,{icon:d.I$,colorScheme:"neutral",size:"sm","aria-hidden":!0})," ",(0,i.tZ)(s.Span,{localizationKey:(0,s.localizationKeys)("__experimental_commerce.billedAnnually")})]})})}):null]}):(0,i.tZ)(s.Text,{elementDescriptor:s.descriptors.pricingTableCardFee,variant:c?"h2":"h1",localizationKey:(0,s.localizationKeys)("__experimental_commerce.free"),colorScheme:"body"})}),l.hasBaseFee&&b>0&&m?(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardPeriodToggle,sx:e=>({display:"flex",marginTop:e.space.$3}),children:(0,i.BX)(u.SegmentedControl.Root,{"aria-label":"Set pay period",value:p,onChange:e=>m(e),children:[(0,i.tZ)(u.SegmentedControl.Button,{value:"month",text:"Monthly"}),(0,i.tZ)(u.SegmentedControl.Button,{value:"annual",text:"Annually"})]})}):null]})}),T=o.forwardRef((e,r)=>{let{plan:t,isCompact:a,showPlanDetails:o}=e,n=t.features.length,l=a?n>3:n>8;return(0,i.BX)(s.Box,{ref:r,elementDescriptor:s.descriptors.pricingTableCardFeatures,sx:e=>({display:"grid",flex:"1",rowGap:a?e.space.$2:e.space.$3}),children:[(0,i.tZ)(s.Col,{elementDescriptor:s.descriptors.pricingTableCardFeaturesList,"data-variant":a?"compact":"default",as:"ul",role:"list",sx:e=>({flex:"1",rowGap:a?e.space.$2:e.space.$3,margin:0,padding:0}),children:t.features.slice(0,l?a?3:8:n).map(e=>(0,i.BX)(s.Box,{elementDescriptor:s.descriptors.pricingTableCardFeaturesListItem,elementId:s.descriptors.pricingTableCardFeaturesListItem.setId(e.slug),as:"li",sx:e=>({display:"flex",alignItems:"baseline",gap:e.space.$2,margin:0,padding:0}),children:[(0,i.tZ)(s.Icon,{icon:d.Jr,colorScheme:"neutral",size:"sm","aria-hidden":!0,sx:e=>({transform:`translateY(${e.space.$0x25})`})}),(0,i.tZ)(s.Span,{elementDescriptor:s.descriptors.pricingTableCardFeaturesListItemContent,children:(0,i.tZ)(s.Text,{elementDescriptor:s.descriptors.pricingTableCardFeaturesListItemTitle,colorScheme:"body",sx:e=>({fontWeight:e.fontWeights.$normal}),children:e.name})})]},e.id))}),l&&(0,i.BX)(s.SimpleButton,{onClick:()=>o(),variant:"link",sx:e=>({marginBlockStart:e.space.$2,gap:e.space.$1}),children:[(0,i.tZ)(s.Icon,{icon:d.v3,colorScheme:"neutral",size:"md","aria-hidden":!0}),(0,i.tZ)(s.Span,{localizationKey:(0,s.localizationKeys)("__experimental_commerce.seeAllFeatures")})]})]})});function B({plans:e=[],planPeriod:r,setPlanPeriod:t,onSelect:a,highlightedPlan:l}){let c=(0,g.Tb)(),{animations:m}=(0,s.useAppearance)().parsedLayout,x=!c&&!0===m,b=o.useId(),y=`${b}-segmented-control`,{buttonPropsForPlan:T}=(0,n.usePlansContext)(),B=e=>({transition:x?`grid-template-rows ${e.transitionDuration.$slower} ${e.transitionTiming.$slowBezier}`:"none"}),$=e=>({background:p.common.mergedColorsBackground(h.O9.setAlpha(e.colors.$colorBackground,1),e.colors.$neutralAlpha25)}),C=o.useMemo(()=>`repeat(${e.length+1}, minmax(9.375rem,1fr))`,[e.length]),f=o.useMemo(()=>e.some(e=>e.annualMonthlyAmount>0),[e]),S=o.useMemo(()=>{let r=new Set;return e.forEach(({features:e})=>{e.forEach(({name:e})=>r.add(e))}),Array.from(r)},[e]);return e.length?(0,i.tZ)(p.InternalThemeProvider,{children:(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixRoot,sx:e=>({position:"relative",minWidth:"100%",display:"grid",isolation:"isolate",backgroundColor:e.colors.$colorBackground,[p.mqu.md]:{overflowX:"auto"}}),children:(0,i.BX)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixTable,role:"table",children:[(0,i.tZ)(s.Box,{elementDescriptor:[s.descriptors.pricingTableMatrixRowGroup,s.descriptors.pricingTableMatrixRowGroupHeader],role:"rowgroup",sx:e=>({position:"sticky",top:0,backgroundColor:e.colors.$colorBackground,borderBottomWidth:e.borderWidths.$normal,borderBottomStyle:e.borderStyles.$solid,borderBottomColor:e.colors.$neutralAlpha100,zIndex:1}),children:(0,i.BX)(s.Box,{elementDescriptor:[s.descriptors.pricingTableMatrixRow,s.descriptors.pricingTableMatrixRowHeader],role:"row",sx:{display:"grid",gridTemplateColumns:C},children:[(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixColumnHeader,role:"columnheader",sx:e=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-end",rowGap:e.space.$3,paddingBlockEnd:e.space.$12,paddingInlineStart:e.space.$3}),children:f?(0,i.BX)(i.HY,{children:[(0,i.tZ)(s.Text,{id:y,colorScheme:"secondary",variant:"caption",children:"Billing cycle"}),(0,i.BX)(u.SegmentedControl.Root,{"aria-labelledby":y,value:r,onChange:e=>t(e),children:[(0,i.tZ)(u.SegmentedControl.Button,{value:"month",text:"Monthly"}),(0,i.tZ)(u.SegmentedControl.Button,{value:"annual",text:"Annually"})]})]}):null}),e.map(e=>{let t=e.slug===l,o=e.annualMonthlyAmount<=0?e.amountFormatted:"annual"===r?e.annualMonthlyAmountFormatted:e.amountFormatted;return(0,i.BX)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixColumnHeader,role:"columnheader",sx:[e=>({display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1,borderStartStartRadius:e.radii.$xl,borderStartEndRadius:e.radii.$xl}),t&&$],"data-highlighted":t,children:[(0,i.BX)(s.Box,{sx:e=>({width:"100%",padding:e.space.$4}),children:[e.avatarUrl||t?(0,i.BX)(s.Span,{sx:e=>({width:"100%",display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBlockEnd:e.space.$3}),children:[e.avatarUrl?(0,i.tZ)(u.Avatar,{elementDescriptor:s.descriptors.pricingTableMatrixAvatar,size:e=>40,title:e.name,initials:e.name[0],rounded:!1,imageUrl:e.avatarUrl}):null,t?(0,i.tZ)(s.Badge,{elementDescriptor:s.descriptors.pricingTableMatrixBadge,colorScheme:"secondary",children:"Popular"}):null]}):null,(0,i.tZ)(s.Heading,{elementDescriptor:s.descriptors.pricingTableMatrixPlanName,textVariant:"h3",children:e.name}),(0,i.tZ)(s.Flex,{align:"center",wrap:"wrap",sx:e=>({marginTop:e.space.$2,columnGap:e.space.$1x5}),children:e.hasBaseFee?(0,i.BX)(i.HY,{children:[(0,i.BX)(s.Text,{elementDescriptor:s.descriptors.pricingTableMatrixFee,variant:"h2",colorScheme:"body",children:[e.currencySymbol,o]}),(0,i.tZ)(s.Text,{elementDescriptor:s.descriptors.pricingTableMatrixFeePeriod,variant:"caption",colorScheme:"secondary",sx:e=>({textTransform:"lowercase",":before":{content:'"/"',marginInlineEnd:e.space.$1}}),localizationKey:(0,s.localizationKeys)("__experimental_commerce.month")}),e.annualMonthlyAmount>0?(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixFeePeriodNotice,sx:[e=>({width:"100%",display:"grid",gridTemplateRows:"annual"===r?"1fr":"0fr"}),B],inert:"annual"!==r?"true":void 0,children:(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixFeePeriodNoticeInner,sx:{overflow:"hidden",minHeight:0},children:(0,i.BX)(s.Text,{elementDescriptor:s.descriptors.pricingTableMatrixFeePeriodNoticeLabel,variant:"caption",colorScheme:"secondary",sx:e=>({width:"100%",display:"flex",alignItems:"center",columnGap:e.space.$1}),children:[(0,i.tZ)(s.Icon,{icon:d.I$,colorScheme:"neutral",size:"sm","aria-hidden":!0})," ",(0,i.tZ)(s.Span,{localizationKey:(0,s.localizationKeys)("__experimental_commerce.billedAnnually")})]})})}):null]}):(0,i.tZ)(s.Text,{elementDescriptor:s.descriptors.pricingTableMatrixFee,variant:"h2",localizationKey:(0,s.localizationKeys)("__experimental_commerce.free"),colorScheme:"body"})})]}),e.isDefault?null:(0,i.tZ)(s.Box,{sx:e=>({width:"100%",marginBlockStart:"auto",marginBlockEnd:e.space.$8,paddingBlockStart:e.space.$2,paddingBlockEnd:e.space.$4,paddingInline:e.space.$4}),children:(0,i.tZ)(s.Button,{block:!0,textVariant:"buttonSmall",size:"xs",onClick:()=>{a(e)},...T({plan:e}),colorScheme:t?"primary":"secondary"})})]},e.slug)})]})}),(0,i.BX)(s.Box,{elementDescriptor:[s.descriptors.pricingTableMatrixRowGroup,s.descriptors.pricingTableMatrixRowGroupBody],role:"rowgroup",children:[S.map(r=>(0,i.BX)(s.Box,{elementDescriptor:[s.descriptors.pricingTableMatrixRow,s.descriptors.pricingTableMatrixRowBody],role:"row",sx:e=>({position:"relative",display:"grid",gridTemplateColumns:C,borderBottomWidth:e.borderWidths.$normal,borderBottomStyle:e.borderStyles.$solid,borderBottomColor:e.colors.$neutralAlpha100,":after":{content:'""',position:"absolute",inset:0,pointerEvents:"none",backgroundColor:e.colors.$neutralAlpha25,opacity:0},":hover:after":{opacity:1}}),children:[(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixCell,role:"cell",sx:e=>({padding:e.space.$3}),children:(0,i.tZ)(s.Text,{colorScheme:"body",children:r})}),e.map(e=>{let t=e.slug===l,a=e.features.some(e=>e.name===r);return(0,i.tZ)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixCell,role:"cell",sx:[e=>({display:"grid",placeContent:"center",padding:e.space.$3}),t&&$],"data-highlighted":t,"data-checked":a,children:a&&(0,i.tZ)(s.Icon,{icon:d.Jr,colorScheme:"neutral",size:"sm","aria-label":"Included"})},e.slug)})]},r)),(0,i.BX)(s.Box,{elementDescriptor:s.descriptors.pricingTableMatrixFooter,sx:{display:"grid",gridTemplateColumns:C},children:[(0,i.tZ)(s.Box,{elementDescriptor:[s.descriptors.pricingTableMatrixCell,s.descriptors.pricingTableMatrixCellFooter]}),e.map(e=>{let r=e.slug===l;return(0,i.tZ)(s.Box,{elementDescriptor:[s.descriptors.pricingTableMatrixCell,s.descriptors.pricingTableMatrixCellFooter],sx:[e=>({height:e.space.$10,borderEndStartRadius:e.radii.$xl,borderEndEndRadius:e.radii.$xl}),r&&$],"data-highlighted":r},e.slug)})]})]})]})})}):null}let $=e=>{let r=(0,a.cL)(),{mode:t="mounted"}=(0,n.usePricingTableContext)(),c=(0,n.useSubscriberTypeContext)(),s="modal"===t,{organization:d}=(0,a.o8)(),{plans:p,handleSelectPlan:u}=(0,n.usePlansContext)(),[g,h]=(0,o.useState)("month"),b=e=>{r.isSignedIn||r.redirectToSignIn(),u({mode:t,plan:e,planPeriod:g})},{__experimental_commerce:y}=(0,a.cL)(),{user:T}=(0,a.aF)();return(0,l.ib)(T?y?.getPaymentSources:void 0,{..."org"===c?{orgId:d?.id}:{}},void 0,`commerce-payment-sources-${T?.id}`),(0,i.BX)(i.HY,{children:[(0,i.tZ)(m,{}),"modal"!==t&&"matrix"===e.layout?(0,i.tZ)(B,{plans:p.filter(e=>!e.isDefault),planPeriod:g,setPlanPeriod:h,onSelect:b,highlightedPlan:e.highlightPlan}):(0,i.tZ)(x,{plans:p.filter(e=>!e.isDefault),planPeriod:g,setPlanPeriod:h,onSelect:b,isCompact:s,props:e})]})}}}]);